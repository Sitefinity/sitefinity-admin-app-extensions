# Insert symbol
## Summary
This is an extension to the rich text editor in **Iris** that allows the user to insert a special character picked from a predefined table. The table is replaceable and could be modified to the needs of the user.

## Interactions
The popup with the symbol table is opened via a custom button from the editor's toolbar.
- single click: selects the symbol
- double click: inserts the symbol
- symbol hover: displays a tooltip with the defined name of the symbol
- _Insert_ button: inserts the symbol
- _Cancel_ button: closes the dialog

## Symbol table source
The symbols that populate the table are defined in a JSON file that is imported by the extension. The file itself is generated by a script in _./utils_ that makes a request to https://dev.w3.org/html5/html-author/charref which fetches and parses the table. The logic for the request and the parsing can be moved to the front-end itself so that request is made and the JSON is generated upon request.

## Implementation
The implementation is pretty straight-forward with the exception of the usage of the _angular material_ dialog singe the _Iris_ current implementation of the _DialogService_ always closes the dialog on _confirm_ command.

- **SymbolListComponent**: a custom component for the symbol table that handles user interactions and emits the chosen symbols
- **InsertSymbolProvider**: custom provider provider that is responsible for opening the dialog and inserting the data into the editor
- _./utils/symbol-list-generator.js_ - a script that fetches and generates the JSON list used to populate the component

### Added dependencies
All the added dependencies are optional - either for the list generator or to make up for currently missing features in _Iris_. Note that the two added _angular_ dependencies and the _@angular/core_ should be the same version in order to be built successfully.
- _@angular/cdk_
- _@angular/material_
- _jsdom_: easier local parsing of the html list for the symbols json (used by the utils script) 